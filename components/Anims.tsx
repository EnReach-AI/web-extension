import React, { MouseEventHandler } from "react";

import { StatusConnect } from "~constants";
import { cn } from "~libs/utils";

export function ConAnim(p: { status: StatusConnect; onClick?: MouseEventHandler<SVGSVGElement>; className?: string }) {
    const fillColor = p.status === "connected" ? "#0085FD" : "#212121";
    const animDur = 3;
    return (
        <svg
            width="162"
            height="162"
            viewBox="0 0 162 162"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            onClick={p.onClick}
            className={cn({ "cursor-pointer": p.onClick && p.status == "idle" }, p.className)}
        >
            <circle
                cx="81"
                cy="80.8"
                r="80.4"
                stroke={fillColor}
                strokeOpacity="0.25"
                strokeWidth="0.8"
                strokeLinecap="round"
                strokeDasharray="0.8 6.4"
                transform-origin="center center"
            >
                {<animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0" to="360" dur="12s" repeatCount="indefinite" />}
            </circle>
            <circle cx="80.9999" cy="80.8" r="73.6" fill={fillColor} fillOpacity="0.04" />
            <circle cx="81" cy="80.8" r="64" fill={fillColor} fillOpacity="0.08" />
            <circle cx="81" cy="80.8" r="54.4" fill={fillColor} />
            <path
                fillRule="evenodd"
                clipRule="evenodd"
                transform-origin="96 79"
                d="M70.2309 83.3519C70.5294 83.7144 70.9955 83.8512 71.4651 83.8512H88.2952L82.19 94.3077C81.8052 94.9669 81.7587 95.7759 82.2205 96.3837C82.7425 97.0707 83.6218 97.9944 84.9977 98.8077C86.4286 99.6536 87.6954 99.9159 88.5425 99.9813C89.2385 100.035 89.841 99.6115 90.193 99.0086L96.3507 88.4622L100.808 96.0961C101.11 96.6133 101.597 97.0051 102.195 97.0487C103.154 97.1187 104.762 97.0098 106.522 95.9314C108.333 94.8214 108.98 93.6362 109.21 92.9318C109.342 92.5276 109.225 92.1046 109.011 91.7374L104.406 83.8512L113.796 83.8512C114.574 83.8512 115.307 83.4695 115.587 82.7437C115.888 81.9629 116.2 80.7834 116.2 79.2493C116.2 77.7152 115.888 76.5356 115.587 75.7549C115.307 75.029 114.574 74.6473 113.796 74.6473H104.417L110.898 63.5462C111.054 63.2795 111.161 62.9834 111.129 62.6762C111.048 61.915 110.583 60.3646 108.267 59.1156C106.098 57.9459 104.484 58.0968 103.669 58.3155C103.265 58.4237 102.963 58.7283 102.753 59.0889L96.3474 70.0487L87.7981 55.4059C87.4655 54.8363 86.9111 54.4222 86.2518 54.4031C85.3084 54.3758 83.8384 54.5143 82.3799 55.3765C80.9579 56.2171 80.1174 57.3525 79.6645 58.1509C79.3296 58.7412 79.4117 59.4501 79.7539 60.0362L88.2847 74.6473L71.4651 74.6473C70.9955 74.6473 70.5294 74.7842 70.2309 75.1466C69.7161 75.7716 69 77.0384 69 79.2493C69 81.4601 69.7161 82.7269 70.2309 83.3519ZM98.7721 83.1582C97.2836 84.0102 95.4154 84.0103 93.9269 83.1583C92.4479 82.3117 91.5149 80.7274 91.5129 79.0232C91.511 77.3125 92.4472 75.7213 93.9332 74.8738C95.4175 74.0272 97.2788 74.0276 98.7634 74.8737C100.25 75.7208 101.188 77.3129 101.186 79.0238C101.184 80.7276 100.251 82.3118 98.7721 83.1582Z"
                fill="white"
            >
                {p.status !== "connected" && <animateTransform attributeName="transform" type="rotate" from="0" to="360" dur="1s" repeatCount="indefinite" />}
                {p.status === "connected" && (
                    <>
                        <animateTransform attributeName="transform" type="scale" values="0.3;1;0.3" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite" />
                        <animate attributeName="fillOpacity" values="0.2;1;0.2" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite" />
                    </>
                )}
            </path>
        </svg>
    );
}

export function NetworkQulityAnim(p: { netQulityDeg: string }) {
    return (
        <div className="relative">
            <svg width="192" height="97" viewBox="0 0 192 97" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M144.66 17.6131L138.135 28.875C137.203 30.4804 137.663 32.5338 139.189 33.5922C158.11 46.6974 170.791 68.1747 171.869 92.6646C171.952 94.5674 173.526 96.0658 175.429 96.0658H188.419C190.449 96.0658 192.062 94.3771 191.987 92.3515C190.786 60.75 174.315 33.061 149.746 16.4437C148.033 15.2862 145.698 15.8253 144.66 17.6131Z"
                    fill="#54C74C"
                />
                <path
                    d="M3.78885 96.0686H16.347C18.3687 96.0686 20.0296 94.479 20.1247 92.4613C21.2664 68.0625 33.9197 46.6804 52.7767 33.6109C54.3941 32.489 54.8896 30.3167 53.9065 28.6082L47.5045 17.5049C46.4739 15.7131 44.1351 15.17 42.4226 16.3236C17.8058 32.8854 1.27564 60.5387 0.00317518 92.1244C-0.0840342 94.2768 1.63637 96.0686 3.78885 96.0686Z"
                    fill="#D94A4A"
                />
                <path
                    d="M95.9892 0C80.8663 0 66.56 3.4963 53.8314 9.72384C51.9723 10.6356 51.2667 12.9228 52.3013 14.7186L58.8023 26.0003C59.726 27.6057 61.7318 28.2439 63.4046 27.4472C73.2791 22.7497 84.3269 20.1136 95.9892 20.1136C107.715 20.1136 118.818 22.7735 128.732 27.5185C130.401 28.3193 132.407 27.685 133.339 26.0796L139.867 14.8137C140.906 13.0219 140.204 10.7307 138.345 9.81501C125.569 3.53198 111.191 0 95.9892 0Z"
                    fill="#FEF962"
                />
                <path
                    d="M12.3702 72.1443L7.37731 70.8197C6.89967 70.6948 6.40977 70.9727 6.28321 71.4397C6.15666 71.9108 6.43835 72.3939 6.91191 72.5188L11.9048 73.8434C12.3824 73.9682 12.8723 73.6904 12.9989 73.2234C13.1295 72.7563 12.8478 72.2731 12.3702 72.1443Z"
                    fill="#E7E6ED"
                />
                <path
                    d="M35.2565 34.1564L31.6108 30.5408C31.2638 30.1945 30.6964 30.1945 30.3453 30.5368C29.9942 30.879 29.9942 31.4387 30.3412 31.7849L33.9868 35.4005C34.3338 35.7468 34.9013 35.7468 35.2524 35.4045C35.6035 35.0623 35.6035 34.5027 35.2565 34.1564Z"
                    fill="#E7E6ED"
                />
                <path
                    d="M74.3746 12.6118L73.0601 7.67959C72.9335 7.20852 72.4477 6.92668 71.9701 7.05149C71.4924 7.17631 71.2066 7.65544 71.3332 8.12651L72.6478 13.0587C72.7743 13.5298 73.2601 13.8116 73.7378 13.6868C74.2154 13.566 74.5012 13.0829 74.3746 12.6118Z"
                    fill="#E7E6ED"
                />
                <path
                    d="M118.176 13.3244L119.547 8.40835C119.678 7.93727 120.4 7.45412 119.923 7.32528C119.445 7.19644 118.955 7.47023 118.825 7.9413L117.453 12.8574C117.322 13.3285 117.6 13.8116 118.077 13.9405C118.551 14.0733 118.045 13.7955 118.176 13.3244Z"
                    fill="#E7E6ED"
                />
                <path
                    d="M157.567 36.1011L161.258 32.5257C161.609 32.1835 161.613 31.6279 161.27 31.2776C160.923 30.9313 160.36 30.9273 160.004 31.2655L156.318 34.8409C155.967 35.1831 155.963 35.7387 156.306 36.089C156.653 36.4393 157.216 36.4433 157.567 36.1011Z"
                    fill="#E7E6ED"
                />
                <path
                    d="M179.2 74.7976L184.209 73.5294C184.687 73.4086 184.977 72.9294 184.854 72.4543C184.732 71.9833 184.246 71.6974 183.764 71.8182L178.755 73.0865C178.277 73.2072 177.988 73.6864 178.11 74.1615C178.237 74.6366 178.722 74.9224 179.2 74.7976Z"
                    fill="#E7E6ED"
                />
                <path
                    d="M23.8664 53.3497L14.0072 47.737C13.5786 47.4954 13.0315 47.6364 12.7866 48.0591C12.5416 48.4819 12.6845 49.0214 13.1132 49.263L22.9723 54.8756C23.401 55.1172 23.948 54.9763 24.193 54.5535C24.4379 54.1307 24.291 53.5912 23.8664 53.3497Z"
                    fill="#E7E6ED"
                />
                <path
                    d="M96.3261 12.107V0.881755C96.3261 0.394575 95.926 0 95.432 0C94.938 0 94.5379 0.394575 94.5379 0.881755V12.107C94.5379 12.5942 94.938 12.9888 95.432 12.9888C95.926 12.9888 96.3261 12.5942 96.3261 12.107Z"
                    fill="#E7E6ED"
                />
                <path
                    d="M167.892 54.8756L177.751 49.263C178.179 49.0214 178.326 48.4819 178.077 48.0591C177.832 47.6364 177.285 47.4914 176.857 47.737L166.998 53.3497C166.569 53.5912 166.422 54.1307 166.671 54.5535C166.92 54.9763 167.467 55.1212 167.892 54.8756Z"
                    fill="#E7E6ED"
                />
            </svg>
            <svg
                className="absolute left-[30px] -bottom-2"
                style={{
                    transition: "all ease 1s",
                    transformOrigin: "right center",
                    transform: `rotate(${p.netQulityDeg})`,
                }}
                width="66"
                viewBox="0 0 194 47"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <g filter="url(#filter0_d_3513_2786)">
                    <path
                        d="M13.3152 22.2997L162.541 33.9886C167.725 34.3938 172.869 33.0689 176.238 30.4517L182.052 25.9259C186.908 22.1475 186.94 16.6064 182.124 12.7846L176.358 8.20175C173.018 5.55078 167.898 4.17263 162.706 4.51924L13.362 14.6461C6.40107 15.1019 6.36558 21.7532 13.3152 22.2997Z"
                        fill="#E7E6ED"
                    />
                </g>
                <defs>
                    <filter id="filter0_d_3513_2786" x="0.12207" y="0.466553" width="193.593" height="45.5939" filterUnits="userSpaceOnUse" colorInterpolationFilters="sRGB">
                        <feFlood floodOpacity="0" result="BackgroundImageFix" />
                        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" />
                        <feOffset dy="4" />
                        <feGaussianBlur stdDeviation="4" />
                        <feComposite in2="hardAlpha" operator="out" />
                        <feColorMatrix type="matrix" values="0 0 0 0 0.542497 0 0 0 0 0.542497 0 0 0 0 0.542497 0 0 0 1 0" />
                        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_3513_2786" />
                        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_3513_2786" result="shape" />
                    </filter>
                </defs>
            </svg>
        </div>
    );
}
